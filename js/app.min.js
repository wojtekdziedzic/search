var __awaiter=this&&this.__awaiter||function(o,f,n,a){function c(e){return e instanceof n?e:new n(function(u){u(e)})}return new(n||(n=Promise))(function(e,u){function l(s){try{t(a.next(s))}catch(r){u(r)}}function h(s){try{t(a.throw(s))}catch(r){u(r)}}function t(s){s.done?e(s.value):c(s.value).then(l,h)}t((a=a.apply(o,f||[])).next())})},__generator=this&&this.__generator||function(o,f){var n={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},a,c,e,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(t){return function(s){return h([t,s])}}function h(t){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,c&&(e=t[0]&2?c.return:t[0]?c.throw||((e=c.return)&&e.call(c),0):c.next)&&!(e=e.call(c,t[1])).done)return e;switch(c=0,e&&(t=[t[0]&2,e.value]),t[0]){case 0:case 1:e=t;break;case 4:return n.label++,{value:t[1],done:!1};case 5:n.label++,c=t[1],t=[0];continue;case 7:t=n.ops.pop(),n.trys.pop();continue;default:if(e=n.trys,!(e=e.length>0&&e[e.length-1])&&(t[0]===6||t[0]===2)){n=0;continue}if(t[0]===3&&(!e||t[1]>e[0]&&t[1]<e[3])){n.label=t[1];break}if(t[0]===6&&n.label<e[1]){n.label=e[1],e=t;break}if(e&&n.label<e[2]){n.label=e[2],n.ops.push(t);break}e[2]&&n.ops.pop(),n.trys.pop();continue}t=f.call(o,n)}catch(s){t=[6,s],c=0}finally{a=e=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}};(function(){var o=document.getElementById("search-input"),f=document.getElementById("results-body"),n=document.getElementById("results-header"),a=document.getElementById("search-hint");o.addEventListener("input",function(r){var i=u(r);i.length>=1?e().then(function(g){var v=g.categories.filter(function(d){return d.toLowerCase().includes(i.toLowerCase())});a.innerHTML="",v.forEach(function(d){a.appendChild(t(d))})}):a.innerHTML=""}),a.addEventListener("click",function(r){var i=l(r);o.value=i,a.innerHTML="",h(i)}),o.addEventListener("keypress",function(r){var i=u(r);r.key==="Enter"&&i.length>=1&&h(i)});function c(){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(i){switch(i.label){case 0:return[4,fetch("https://api.publicapis.org/entries")];case 1:return r=i.sent(),[4,r.json()];case 2:return[2,i.sent()]}})})}function e(){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(i){switch(i.label){case 0:return[4,fetch("https://api.publicapis.org/categories")];case 1:return r=i.sent(),[4,r.json()];case 2:return[2,i.sent()]}})})}function u(r){return r.target.value.trim()}function l(r){return r.target.innerText.trim()}function h(r){s(),n.innerHTML="Searching...",c().then(function(i){var g=i.entries.filter(function(b){return b.Description.toLowerCase().includes(r.toLowerCase())||b.Category.toLowerCase().includes(r.toLowerCase())});if(g.length===0)n.innerHTML="No results found";else{n.innerHTML="Results for <br> ".concat(r,":");for(var v=0,d=g;v<d.length;v++){var y=d[v];f.innerHTML+='<div class="result-item"><h3> Category: '.concat(y.Category,"</h3><p>Description: ").concat(y.Description,'</p><a href="').concat(y.Link,'" target="_blank">').concat(y.Link,"</a></div>")}}})}function t(r){var i=document.createElement("div");return i.className="hint-item",i.innerHTML=r,i}function s(){n.innerHTML="",f.innerHTML=""}})();
